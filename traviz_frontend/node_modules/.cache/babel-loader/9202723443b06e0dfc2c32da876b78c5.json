{"ast":null,"code":"import _slicedToArray from \"/home/stolet/TraViz/traviz_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/stolet/TraViz/traviz_frontend/src/dc/tableTemplate.js\";\nimport React from \"react\";\nimport { CXContext } from \"./cxContext\";\nimport * as dc from \"dc\";\n\nvar NextButton = function NextButton(props) {\n  return React.createElement(\"input\", {\n    id: \"next\",\n    class: \"btn\",\n    type: \"button\",\n    value: \"Next\",\n    onClick: function onClick() {\n      var totFilteredRecs = props.ndx.groupAll().value();\n      var ofs = props.table.beginSlice();\n      var pag = 50;\n      var ofs = ofs + pag > totFilteredRecs ? totFilteredRecs : ofs + pag;\n      props.table.beginSlice(ofs);\n      props.table.endSlice(ofs + pag);\n      props.table.redraw();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  });\n};\n\nvar LastButton = function LastButton(props) {\n  return React.createElement(\"input\", {\n    id: \"last\",\n    class: \"btn\",\n    type: \"button\",\n    value: \"Last\",\n    onClick: function onClick() {\n      var ofs = props.table.beginSlice();\n      var pag = 50;\n      var ofs = ofs - pag < 0 ? 0 : ofs - pag;\n      props.table.beginSlice(ofs);\n      props.table.endSlice(ofs + pag);\n      props.table.redraw();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  });\n};\n\nexport var Pagination = function Pagination(props) {\n  return React.createElement(\"div\", {\n    id: \"paging\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Showing \", React.createElement(\"span\", {\n    id: \"begin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), \"-\", React.createElement(\"span\", {\n    id: \"end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), \" of \", React.createElement(\"span\", {\n    id: \"size\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), \" \", React.createElement(\"span\", {\n    id: \"totalsize\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), React.createElement(LastButton, {\n    table: props.table,\n    ndx: props.ndx,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(NextButton, {\n    table: props.table,\n    ndx: props.ndx,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }));\n};\nexport var TableTemplate = function TableTemplate(props) {\n  var context = React.useContext(CXContext);\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      table = _React$useState2[0],\n      updateTable = _React$useState2[1];\n\n  var ndx = context.ndx;\n  var div = React.useRef(null);\n  React.useEffect(function () {\n    var newTable = props.tableFunction(div.current, ndx);\n    newTable.render();\n    updateTable(newTable);\n  }, 1);\n  {\n    /*Run this exactly once */\n  }\n  return React.createElement(\"div\", {\n    ref: div,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, props.title), React.createElement(Pagination, {\n    table: table,\n    ndx: ndx,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }));\n};","map":{"version":3,"sources":["/home/stolet/TraViz/traviz_frontend/src/dc/tableTemplate.js"],"names":["React","CXContext","dc","NextButton","props","totFilteredRecs","ndx","groupAll","value","ofs","table","beginSlice","pag","endSlice","redraw","LastButton","Pagination","TableTemplate","context","useContext","useState","updateTable","div","useRef","useEffect","newTable","tableFunction","current","render","title"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { CXContext } from \"./cxContext\";\nimport * as dc from \"dc\";\n\nconst NextButton = props => {\n    return (\n        <input id=\"next\" class=\"btn\" type=\"button\" value=\"Next\"\n            onClick={() => {\n                var totFilteredRecs = props.ndx.groupAll().value();\n                var ofs = props.table.beginSlice();\n                var pag = 50;\n                var ofs = ofs + pag > totFilteredRecs ? totFilteredRecs : ofs + pag;\n                props.table.beginSlice(ofs);\n                props.table.endSlice(ofs+pag);\n                props.table.redraw();\n            }} />\n    );\n};\n\nconst LastButton = props => {\n    return (\n        <input id=\"last\" class=\"btn\" type=\"button\" value=\"Last\"\n            onClick={() => {\n                var ofs = props.table.beginSlice();\n                var pag = 50;\n                var ofs = ofs - pag < 0 ? 0 : ofs - pag;\n                props.table.beginSlice(ofs);\n                props.table.endSlice(ofs+pag);\n                props.table.redraw();\n            }} />\n    );\n};\n\nexport const Pagination = props => {\n    return (\n        <div id=\"paging\">\n            Showing <span id=\"begin\"></span>-<span id=\"end\"></span> of <span id=\"size\"></span> <span id=\"totalsize\"></span>\n            <LastButton table={props.table} ndx={props.ndx}/>\n            <NextButton table={props.table} ndx={props.ndx}/>\n        </div>\n    )\n}\n\nexport const TableTemplate = props => {\n    const context = React.useContext(CXContext);\n    const [table,updateTable] = React.useState(null);\n    const ndx = context.ndx;\n    const div = React.useRef(null);\n    React.useEffect(() => {\n        const newTable = props.tableFunction(div.current, ndx);\n        newTable.render();\n        updateTable(newTable);\n    },1); {/*Run this exactly once */}\n\n    return (\n        <div ref={div}>\n            <label>{props.title}</label>\n            <Pagination table={table} ndx={ndx}/>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}